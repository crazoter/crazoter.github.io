<!doctype html>
<head>
  <meta charset="utf-8">

  <title>The Aidil Bookshelf</title>
  <meta name="description" content="The Aidil Bookshelf">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

  <link rel="shortcut icon" href="assets/favicon.ico"/>

  <!--Force HTTPS on GitHub-->
  <script>
    var host = "crazoter.github.io";
    if ((host == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
  </script>

  <link type="text/css" rel="stylesheet" href="css/bookshelf.css" media="screen,projection"/>
  <link type="text/css" rel="stylesheet" href="node_modules/materialize-css/bin/materialize.css"  media="screen,projection"/>

  <script src="js/pagespeed/modernizr.js"></script>
</head>

<body>
  <ul class="side-nav fixed" id="mobile-demo">
          <a class="brand-logo center" style="background-image: url(assets/bookshelf/foolingaround.png);background-position: center; background-repeat: no-repeat;" title="Aidil Bookshelf"></a>
          <a class='dropdown-button btn' href='#' data-activates='dropdown1'>Resources</a>
          <p id="span_loggedInUser_mobile" style="display:none;" class="center-align grey-text text-darken-4"></p>
          <li class="divider"></li>
          <li><a href="https://crazoter.github.io">Go Home</a></li>
          <a id="btn_login_mobile" style="display:none;" class="waves-effect waves-light btn modal-trigger grey-text text-lighten-4" href="#modal_login">Login</a>
          <li><a id="btn_logout_mobile" style="display:none;" href="#" onclick="logout();">Log out</a></li>
        </ul>

  <!--Modals-->
  <!--Login-->
  <div id="modal_login" class="modal">
    <div class="modal-content">
      <h4>Login</h4>
      <form onSubmit="login();return false;">
        <div class="row">
          <div class="input-field col s12">
            <input id="txt_username" type="text" class="validate" required>
            <label for="txt_username">Username</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="txt_password" type="password" class="validate" required>
            <label for="txt_password">Password</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="progress_login" style="display:none;" class="progress">
          <div class="indeterminate"></div>
        </div>
        <button class="btn waves-effect waves-light" type="submit" value="Submit">Login
          <i class="mdi-content-send right"></i>
        </button>
      </div>
    </form>
  </div>

  <!-- Dropdown Structure -->
  <ul id='dropdown1' class='dropdown-content' style="z-index:2;">
    <!--The Verge-->
    <li style="background-image: url(assets/bookshelf/the_verge.png);background-position: center; background-repeat: no-repeat;"><a href="http://www.theverge.com/" target="_blank" title="The Verge"></a></li>
    <!--Hacker News-->
    <li><a class="center-align" href="https://news.ycombinator.com/news" target="_blank"><img src="assets/bookshelf/y18.gif" width="18" height="18" style="border:1px #ffffff solid;"> Hacker News</a></li>
    <!--Reddit-->
    <li><a href="https://www.reddit.com/" target="_blank" style="background-image: url(assets/bookshelf/reddit.png);background-position: center; background-repeat: no-repeat;" title="Reddit"></a></li>
    <!--Polygon-->
    <li><a href="http://www.polygon.com/" target="_blank" style='background: url("https://cdn1.vox-cdn.com/images/polygon/logos/logo_black.vbbf4076.png") no-repeat scroll 0px 0px transparent;background-position: center;' title="Polygon"></a></li>
    <!--Reuters-->
    <li><a href="http://www.reuters.com/" target="_blank" style="background-image: url(assets/bookshelf/reuters.png);background-position: center; background-repeat: no-repeat;" title="Reuters"></a></li>
  </ul>

  <!--Search Instructions-->
  <div id="modal_sInstruct" class="modal bottom-sheet" style="display: block; opacity: 0; bottom: -100%;">
    <div class="modal-content">
      <h4>Search Instructions</h4>
      <p>Searching the Bookshelf is as easy as ABC! Type your query into the search box and hit enter. Related articles will pop right up.<br/>
        <h5>Advanced syntax:</h5><hr>
        <h6>Search by Tag (<span class="tag">#</span>)</h6>
        <span class="tag">#TAG</span> - E.G. search "#Aidil" to query for articles that are tagged "Aidil".<hr>
        <h6>Search by Date (<span class="tag">$</span>)(Because time is money lol)</h6>
        <span class="tag">${yyyy/mm/dd}-{yyyy/mm/dd}</span> - E.G. "$2015/03/20-2015/03/25" will search for posts made during March 20th to 25th (inclusive)<br/>
        <span class="tag">${yyyy/mm/dd}</span> - Supplying only 1 date will search for articles posted on that day.
        <h6>Date Shortcuts</h6>
        <span class="tag">@NOW</span> OR <span class="tag">@TODAY</span> - Used as today's date. E.G. @2015/03/20-@NOW will search for posts made since 2015/03/20. @TODAY can also be used in place of @NOW.<br/>
        <span class="tag">@YDA</span> - Used as yesterday's date.<br/>
        <span class="tag">@MON</span><span class="tag">@TUE</span><span class="tag">@WED</span><span class="tag">@THU</span><span class="tag">@FRI</span><span class="tag">@SAT</span><span class="tag">@SUN</span> - Used as the date of the day specified on this week. E.G. if today is 2015/5/6 (Wednesday), @SUN will return 2015/5/10 and @MON will return 2015/5/4.<br/>
        <span class="tag">@LAST_MON</span> - Used as the date of last monday. "MON" can be replaced with other days and multiple "LAST"s can be appended (e.g. LAST_LAST_LAST_MON).
        </p>
    </div>
  </div>

  <!--Confirm Delete-->
  <div id="modal_deleteArticle" class="modal bottom-sheet" style="display: block; opacity: 0; bottom: -100%;">
    <div class="modal-content">
      <h4>Confirm Removal?</h4>
      <p>Are you sure you want this article gone? Forever?</p>
      <div class="modal-footer">
      <a href="#!" onclick="deleteArticle();return false;" class=" modal-action modal-close waves-effect waves-green btn-flat">Yes</a>
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
    </div>
    </div>
  </div>
  <div class="header">
    <ul class="tabs">
      <li class="tab col s6"><a class="teal grey-text text-lighten-4 active" href="#tab1">Bookshelf</a></li>
      <li class="tab col s6"><a class="teal grey-text text-lighten-4" href="#tab2">Resources</a></li>
    </ul>
  </div>
  <!--Content-->
  <div class="main">
    <div id="tab2" style="display:none;" class="row">
      <ul class="pagination">
        <li class="waves-effect"><a href="#" onclick="iframe_back();"><i class="mdi-navigation-chevron-left"></i></a></li>
      </ul>
      <iframe id="iframe_res" src="http://newsrss.bbc.co.uk/rss/newsonline_world_edition/front_page/rss.xml" class="fat iframe">
      </iframe>
    </div>
    <div id="tab1" class="row">
    <!--Accordion-->
    <ul class="collapsible popout" data-collapsible="accordion">
      <li>
        <!--Add Article-->
        <div class="collapsible-header"><i class="mdi-av-my-library-add"></i>Add Article</div>
        <div class="collapsible-body container">
          <form onSubmit="addArticle();return false;">
            <br/>
            <div class="row">
              <div class="input-field col s12">
                <i class="mdi-action-picture-in-picture prefix"></i>
                <input id="txt_title" type="text" length="70" class="validate" required>
                <label for="txt_title">Title</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <i class="mdi-editor-mode-edit prefix"></i>
                <textarea id="txtarea_description" class="materialize-textarea" length="150" class="validate" required></textarea>
                <label for="txtarea_description">Description</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <i class="mdi-action-language prefix"></i>
                <input id="txt_ref" type="url" length="80" class="validate" required>
                <label for="txt_ref">Reference (URL)</label>
              </div>
              <div class="input-field col s6">
                <i class="mdi-image-style prefix"></i>
                <input id="txt_tags" type="text"length="50" class="validate" required>
                <label for="txt_tags">Tag(s) - delimit with space</label>
              </div>
            </div>
            <div class="row">
              <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                <i class="mdi-content-send right"></i>
              </button>
            </div>
          </form>
        </div>
      </li>
      <li>
        <!--View Articles-->
        <div class="collapsible-header active"><i class="mdi-action-find-in-page"></i>View Articles</div>
        <div class="collapsible-body">
          <!--Article Search-->
          <div class="row">
            <div class="col s11">
              <nav>
                <div class="nav-wrapper teal lighten-2">
                  <form onSubmit="search();return false;">
                    <div class="input-field">
                      <input id="txt_search" placeholder="Search Bookshelf" type="search" required>
                      <label for="txt_search"><i class="mdi-action-search"></i></label>
                      <i class="mdi-navigation-close"></i>
                    </div>
                  </form>
                </div>
              </nav>
            </div>
            <!--Article Search Help-->
            <a class="waves-effect waves-light btn modal-trigger" href="#modal_sInstruct"><i class="mdi-action-help small"></i></a>
            <!--Article Search Progress Bar-->
            <div style="display:none;" class="progress">
              <div class="indeterminate"></div>
            </div>
          </div>
          <!--Article Search Results-->
          <p id="txt_notfound">The bookshelf prepares...</p>
          <ul id="ul_searches" class="collapsible popout" data-collapsible="accordion">
        </ul>
      </div>
    </li>
    <li>
      <div class="collapsible-header"><i class="mdi-action-face-unlock"></i>Made by Crazoter. Powered by <a href="http://materializecss.com/" target="_blank">Materialize</a> & <a href="https://www.parse.com/" target="_blank">Parse</a>.</div>
      <div class="collapsible-body">
        <p>
          This web app was created for users to keep track of their reading material. By indexing and making summaries of what they read, they are better able to remember the finer points of important / useful articles online.</p>
        </div>
      </li>
    </ul>
  </div>
  </div>

  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="node_modules/materialize-css/bin/materialize.js"></script>
  <script type="text/javascript" src="https://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
  <script type="text/javascript" src="js/jquery-dateFormat.min.js"></script>
  <script type="text/javascript" src="js/he.min.js"></script>
  <script type="text/javascript" src="js/bookshelf.js"></script>
  <script type="text/javascript">
    //Initialize Parse
    Parse.initialize("WfzcQHZPt7egsWB3xae2wNlS2HxzcBI1of5aDnAX", "9hkM1JPqeCoJhYKtxsVnTKI7QWmqgYm3t4sSclBR");
    $(document).ready(function(){
      //Initialize Modals
      $('.modal-trigger').leanModal();

      //Initialize Mobile Collapse Nav
      $(".button-collapse").sideNav();

      //Initialize Tabs
      $('ul.tabs').tabs();

      //Display login/logout
      if(Parse.User.current() === null){
        showLogin();
      }
      else{
        showLogout(Parse.User.current().attributes.username);
      }
      initializeArticles();
      //colorTags();
    });

    $(".fat").height($(document).height()-140);
    </script>
  </body>
<!--
  Frameworks used:
  http://materializecss.com
  http://www.materialpalette.com
  https://www.parse.com/
-->
</html>
