<!doctype html>
<head>
  <meta charset="utf-8">

  <title>The Aidil Bookshelf</title>
  <meta name="description" content="The Aidil Bookshelf">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

  <link rel="shortcut icon" href="assets/favicon.ico"/>
  <link type="text/css" rel="stylesheet" href="css/bookshelf.css" media="screen,projection"/>
  <link type="text/css" rel="stylesheet" href="node_modules/materialize-css/bin/materialize.css"  media="screen,projection"/>

  <script src="js/pagespeed/modernizr.js"></script>
</head>

<body>
  <!--nav-->
  <nav class="teal darken-2">
    <div class="nav-wrapper">
      <div class="container">
        <a class="brand-logo">Aidil Bookshelf</a>
        <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="mdi-navigation-menu"></i></a>
        <span class="right">
          <a id="btn_login" style="display:none;" class="waves-effect waves-light btn modal-trigger" href="#modal_login">Login</a>
          <span id="span_loggedInUser" class="hide-on-small-and-down" style="display:none;" ></span>
          <a id="btn_logout" style="display:none;" class="waves-effect waves-light btn" onclick="logout();">Log out</a>
        </span>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li><a href="https://crazoter.github.io">Go Home</a></li>
        </ul>
        <ul class="side-nav" id="mobile-demo">
          <a id="btn_login_mobile" style="display:none;" class="waves-effect waves-light btn modal-trigger grey-text text-lighten-4" href="#modal_login">Login</a>
          <h5 id="span_loggedInUser_mobile" style="display:none;" class="hide-on-small-and-down center-align grey-text text-darken-4"></h5>
          <a id="btn_logout_mobile" style="display:none;" class="waves-effect waves-light btn grey-text text-lighten-4" onclick="logout();">Log out</a>
        </ul>
      </div>
    </div>
  </nav>

  <!--Modals-->
  <!--Login-->
  <div id="modal_login" class="modal">
    <div class="modal-content">
      <h4>Login</h4>
      <form onSubmit="login();return false;" action="#">
        <div class="row">
          <div class="input-field col s12">
            <input id="txt_username" type="text" class="validate" required>
            <label for="txt_username">Username</label>
          </div>
        </div>
        <div class="row">
          <div class="input-field col s12">
            <input id="txt_password" type="password" class="validate" required>
            <label for="txt_password">Password</label>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <div id="progress_login" style="display:none;" class="progress">
          <div class="indeterminate"></div>
        </div>
        <button class="btn waves-effect waves-light" type="submit" value="Submit">Login
          <i class="mdi-content-send right"></i>
        </button>
      </div>
    </form>
  </div>

  <!--Search Instructions-->
  <div id="modal_sInstruct" class="modal bottom-sheet" style="display: block; opacity: 0; bottom: -100%;">
    <div class="modal-content">
      <h4>Search Instructions</h4>
      <p>Searching the Bookshelf is as easy as ABC!</p>
    </div>
  </div>

  <!--Confirm Delete-->
  <div id="modal_deleteArticle" class="modal bottom-sheet" style="display: block; opacity: 0; bottom: -100%;">
    <div class="modal-content">
      <h4>Confirm Removal?</h4>
      <p>Are you sure you want this article gone? Forever?</p>
      <div class="modal-footer">
      <a href="#!" onclick="deleteArticle();return false;" class=" modal-action modal-close waves-effect waves-green btn-flat">Yes</a>
      <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">No</a>
    </div>
    </div>
  </div>

  <!--Content-->
  <div class="container">
    <br/>
    <!--Accordion-->
    <ul class="collapsible popout" data-collapsible="accordion">
      <li>
        <!--Add Article-->
        <div class="collapsible-header"><i class="mdi-av-my-library-add"></i>Add Article</div>
        <div class="collapsible-body container">
          <form onSubmit="addArticle();return false;" action="#">
            <br/>
            <div class="row">
              <div class="input-field col s12">
                <i class="mdi-action-picture-in-picture prefix"></i>
                <input id="txt_title" type="text" length="70" class="validate" required>
                <label for="txt_title">Title</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <i class="mdi-editor-mode-edit prefix"></i>
                <textarea id="txtarea_description" class="materialize-textarea" length="150" class="validate" required></textarea>
                <label for="txtarea_description">Description</label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s6">
                <i class="mdi-action-language prefix"></i>
                <input id="txt_ref" type="url" length="80" class="validate" required>
                <label for="txt_ref">Reference (URL)</label>
              </div>
              <div class="input-field col s6">
                <i class="mdi-image-style prefix"></i>
                <input id="txt_tags" type="text"length="50" class="validate" required>
                <label for="txt_tags">Tag(s) - delimit with whitespace</label>
              </div>
            </div>
            <div class="row">
              <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                <i class="mdi-content-send right"></i>
              </button>
            </div>
          </form>
        </div>
      </li>
      <li>
        <!--View Articles-->
        <div class="collapsible-header active"><i class="mdi-action-find-in-page"></i>View Articles</div>
        <div class="collapsible-body">
          <!--Article Search-->
          <div class="row">
            <div class="col s11">
              <nav>
                <div class="nav-wrapper teal lighten-2">
                  <form onSubmit="search();return false;" action="#">
                    <div class="input-field">
                      <input id="search" placeholder="Search Bookshelf" type="search" required>
                      <label for="search"><i class="mdi-action-search"></i></label>
                      <i class="mdi-navigation-close"></i>
                    </div>
                  </form>
                </div>
              </nav>
            </div>
            <!--Article Search Help-->
            <a class="waves-effect waves-light btn modal-trigger" href="#modal_sInstruct"><i class="mdi-action-help small"></i></a>
            <!--Article Search Progress Bar-->
            <div style="display:none;" class="progress">
              <div class="indeterminate"></div>
            </div>
          </div>
          <!--Article Search Results-->
          <p id="txt_notfound">The bookshelf prepares...</p>
          <ul id="ul_searches" class="collapsible popout" data-collapsible="accordion">
        </ul>
      </div>
    </li>
    <li>
      <div class="collapsible-header"><i class="mdi-action-face-unlock"></i>Made by Crazoter. Powered by <a href="http://materializecss.com/" target="_blank">Materialize</a> & <a href="https://www.parse.com/" target="_blank">Parse</a>.</div>
      <div class="collapsible-body">
        <p>
          This web app was created for users to keep track of their reading material. By indexing and making summaries of what they read, they are better able to remember the finer points of important / useful articles online.</p>
        </div>
      </li>
    </ul>
  </div>

  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script type="text/javascript" src="node_modules/materialize-css/bin/materialize.js"></script>
  <script type="text/javascript" src="https://www.parsecdn.com/js/parse-1.4.2.min.js"></script>
  <script type="text/javascript" src="js/jquery-dateFormat.min.js"></script>
  <script type="text/javascript" src="js/he.min.js"></script>
  <script type="text/javascript" src="js/bookshelf.js"></script>
  <script type="text/javascript">
    //Initialize Parse
    Parse.initialize("WfzcQHZPt7egsWB3xae2wNlS2HxzcBI1of5aDnAX", "9hkM1JPqeCoJhYKtxsVnTKI7QWmqgYm3t4sSclBR");
    $(document).ready(function(){
      //Initialize Modals
      $('.modal-trigger').leanModal();

      //Initialize Mobile Collapse Nav
      $(".button-collapse").sideNav();

      //Initialize Tabs
      $('ul.tabs').tabs();

      //Display login/logout
      if(Parse.User.current() === null){
        showLogin();
      }
      else{
        showLogout("Crazoter");
      }
      initializeArticles();
      //colorTags();
    });
    </script>
  </body>
<!--
  Frameworks used:
  http://materializecss.com
  http://www.materialpalette.com
  https://www.parse.com/
-->
</html>
